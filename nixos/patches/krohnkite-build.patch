diff --git a/Makefile b/Makefile
index fa27440..95ea1bf 100644
--- a/Makefile
+++ b/Makefile
@@ -1,6 +1,6 @@
 PROJECT_NAME = krohnkite
 PROJECT_VER  = 0.9.7
-PROJECT_REV  = $(shell git rev-parse HEAD | cut -b-7)
+PROJECT_REV  ?= $(shell git rev-parse HEAD | cut -b-7)
 
 KWINPKG_FILE = $(PROJECT_NAME)-$(PROJECT_VER).kwinscript
 KWINPKG_DIR  = pkg
@@ -76,8 +76,7 @@ $(KWINPKG_DIR)/%:
 	@cp -v $< $@
 
 $(NODE_SCRIPT): $(SRC)
-	npm install --save-dev
-	npm run tsc --
+	tsc
 
 package_json: package.json
 	sed -i 's/"version": [^,]*/"version": "$(PROJECT_VER)"/' package.json
